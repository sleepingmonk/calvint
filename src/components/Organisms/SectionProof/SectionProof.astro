---
import Section from '../../Organisms/Section/Section.astro';
import ReelIndicator from '../../Atoms/ReelIndicator/ReelIndicator.astro';
import quotes from './quotes.json';
import './SectionProof.css';

interface Props {
  className?: string;
}

const { className } = Astro.props;
const total = quotes.length;
quotes.sort(() => Math.random() - 0.5);
---

<Section
  justify="center"
  align="center"
  brow=""
  heading=""
  bgColor="dark"
  className=`${className ? className : ""} proof`
>
  <div class='reel overflowing'>
    {quotes.map((quote, index) => (
      <div class='item cover' style="--cover-height: 100%;">
        <div class="principal">
          <quote>{quote.quote}</quote>
          <cite>&mdash; {quote.cite}</cite>
        </div>
        <ReelIndicator
          total={total}
          item={index}
        />
      </div>
    ))}
  </div>
</Section>

<script is:inline src="/js/SectionProof.js"></script>
